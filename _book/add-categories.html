
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>#4: Filtering data. Add categories Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="display-new-images.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="display-photos.html">
            
                <a href="display-photos.html">
            
                    
                    #1: Gallery 101. Display photos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="upload-photos.html">
            
                <a href="upload-photos.html">
            
                    
                    #2: More interaction! Upload photos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="display-new-images.html">
            
                <a href="display-new-images.html">
            
                    
                    #3: Merging Observables. Display uploaded photos
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5" data-path="add-categories.html">
            
                <a href="add-categories.html">
            
                    
                    #4: Filtering data. Add categories
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >#4: Filtering data. Add categories</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="add-categories">Add categories</h1>
<p>Wow! That was a nice ride! What now? Is our gallery finished? Of course not. Once you upload more and more photos you&apos;d probably want to create some categories or tags. If we&apos;d mix dogs memes with memories from our last pizzeria visit, the gallery would make no sense. Let&apos;s go and some categories.</p>
<p>First? Maybe some <code>categories</code> component?</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;categories&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let category of categoriesList$ | async&quot;</span>
         [<span class="hljs-attr">ngClass</span>]=<span class="hljs-string">&quot;{&apos;category&apos;: true, &apos;category-new&apos;: category.new}&quot;</span>
         (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;setActiveCategory(category.id)&quot;</span>&gt;</span>
        {{ category.name }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;new-category&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;new&amp;thinsp;+&quot;</span>
           [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;newCategoryName&quot;</span>
           (<span class="hljs-attr">keyup.enter</span>)=<span class="hljs-string">&quot;addNewCategory($event.target.value)&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>So that&apos;s how it is. We&apos;ve already seen some Observables and events handlers so surely you can read this code and get the general idea. Some looping over Observable with categories. CSS class for new categories. Setting active category once user clicks on it. <code>ngModel</code> on our input will help us clear it when new category is created. Let&apos;s see <code>addNewCategory</code> handler.</p>
<pre><code class="lang-typescript">addNewCategory(name: <span class="hljs-built_in">string</span>) {
    <span class="hljs-keyword">this</span>.categoriesService.newCategory$.next(name)
    <span class="hljs-keyword">this</span>.newCategoryName = <span class="hljs-string">&quot;&quot;</span>
}
</code></pre>
<p>Sometimes I wish it&apos;d be harder&#x2026; Every time user press enter, send new category name to <code>categoriesService</code> and empty <code>newCategoryName</code>, so we won&apos;t create the same category twice and we have nice UX. Shall we see our categories service?</p>
<p>Not to bore you, but it&apos;s almost the same stuff we&apos;ve done in photos service. List of categories. Stream with new categories. Creating a big snowball out of them&#x2026; Yep, normal Rx.js stuff. Not a lot to meditate on, maybe just elegance and usefullnes of Observables. But fear not! We have to do a bit more. Since we have categories now, we need to categorize our photos and upload new photos to some categories! Also we&apos;re gonna have to filter, or mark, photos we show in our gallery, so user knows to what category each photo belongs.</p>
<h1 id="filtering-photos">Filtering photos</h1>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="display-new-images.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: #3: Merging Observables. Display uploaded photos">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"#4: Filtering data. Add categories","level":"1.5","depth":1,"previous":{"title":"#3: Merging Observables. Display uploaded photos","level":"1.4","depth":1,"path":"display-new-images.md","ref":"display-new-images.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"add-categories.md","mtime":"2019-09-27T09:21:07.389Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-09-27T09:20:36.754Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

